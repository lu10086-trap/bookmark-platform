<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸ªäººä¸­å¿ƒ - ä¹¦ç­¾ç¤¾åŒº</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- åªåœ¨è¿™é‡ŒåŠ è½½ä¸€æ¬¡Supabaseåº“å¹¶åˆå§‹åŒ– -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script>
        // ç›´æ¥åˆå§‹åŒ–Supabase
        const SUPABASE_URL = 'https://wxoqyzdfkkmodigszrcy.supabase.co';
        const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind4b3F5emRma2ttb2RpZ3N6cmN5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI5MzMwMDksImV4cCI6MjA3ODUwOTAwOX0.9BeyxJVxKsmJ18Uc_jyKTIwelXWvqYE4j1TZOC8zyNk';
        
        // ç«‹å³åˆå§‹åŒ–ï¼Œä¸ç­‰å¾…DOMContentLoaded
        if (typeof supabase !== 'undefined') {
            window.supabase = supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
            console.log('Supabaseåˆå§‹åŒ–æˆåŠŸ');
        } else {
            console.error('Supabaseåº“æœªåŠ è½½');
        }
    </script>
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <h1>ğŸ“š ä¹¦ç­¾ç¤¾åŒº</h1>
            </div>
            <div class="nav-links">
                <a href="index.html" class="nav-link">é¦–é¡µ</a>
                <a href="add-bookmark.html" class="nav-link">æ·»åŠ ä¹¦ç­¾</a>
                <a href="profile.html" class="nav-link active">ä¸ªäººä¸­å¿ƒ</a>
                <div id="auth-section">
                    <button id="login-btn" class="btn btn-outline">ç™»å½•</button>
                    <button id="signup-btn" class="btn btn-primary">æ³¨å†Œ</button>
                    <div id="user-menu" class="user-menu hidden">
                        <span id="user-email"></span>
                        <button id="logout-btn" class="btn btn-outline">é€€å‡º</button>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <main class="container">
        <div class="profile-container">
            <div class="profile-header">
                <div class="profile-avatar">
                    <div class="avatar-placeholder" id="user-avatar">ğŸ‘¤</div>
                </div>
                <div class="profile-info">
                    <h1 id="profile-username">ç”¨æˆ·å</h1>
                    <p id="profile-bio">è¿™ä¸ªäººå¾ˆæ‡’ï¼Œä»€ä¹ˆéƒ½æ²¡æœ‰å†™...</p>
                    <p id="profile-stats">
                        <span id="bookmarks-count">0 ä¹¦ç­¾</span> â€¢ 
                        <span id="favorites-count">0 æ”¶è—</span>
                    </p>
                </div>
                <button id="edit-profile-btn" class="btn btn-outline">ç¼–è¾‘èµ„æ–™</button>
            </div>

            <div class="profile-tabs">
                <button class="profile-tab active" data-tab="my-bookmarks">æˆ‘çš„ä¹¦ç­¾</button>
                <button class="profile-tab" data-tab="my-favorites">æˆ‘çš„æ”¶è—</button>
            </div>

            <div class="tab-content">
                <div id="my-bookmarks" class="tab-pane active">
                    <div class="bookmarks-grid" id="my-bookmarks-container">
                        <!-- ç”¨æˆ·çš„ä¹¦ç­¾å°†åŠ è½½åˆ°è¿™é‡Œ -->
                    </div>
                </div>
                
                <div id="my-favorites" class="tab-pane">
                    <div class="bookmarks-grid" id="my-favorites-container">
                        <!-- ç”¨æˆ·çš„æ”¶è—å°†åŠ è½½åˆ°è¿™é‡Œ -->
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- ç¼–è¾‘èµ„æ–™æ¨¡æ€æ¡† -->
    <div id="edit-profile-modal" class="modal hidden">
        <div class="modal-content">
            <button class="close-btn">&times;</button>
            <h2>ç¼–è¾‘èµ„æ–™</h2>
            <form id="edit-profile-form" class="profile-form">
                <div class="form-group">
                    <label for="edit-username">ç”¨æˆ·å</label>
                    <input type="text" id="edit-username" required>
                </div>
                
                <div class="form-group">
                    <label for="edit-bio">ä¸ªäººç®€ä»‹</label>
                    <textarea id="edit-bio" rows="3"></textarea>
                </div>
                
                <div class="form-group">
                    <label for="edit-website">ä¸ªäººç½‘ç«™</label>
                    <input type="url" id="edit-website">
                </div>
                
                <button type="submit" class="btn btn-primary">ä¿å­˜æ›´æ”¹</button>
            </form>
        </div>
    </div>

    <!-- åªåŠ è½½åº”ç”¨è„šæœ¬ï¼Œä¸å†é‡å¤åŠ è½½Supabase -->
    <script src="js/auth.js"></script>
    <script src="js/bookmarks.js"></script>
    <script src="js/profile.js"></script>
</body>
</html>